# 树（Tree）

## 二叉查找树（Binary Search Tree）

> 二叉树中的节点最多只能有两个子节点：一个是左侧子节点，另一个是右侧子节点。
>
> 二叉搜索树（BST）是二叉树的一种，但是它只允许你在左侧节点存储（比父节点）小的值， 在右侧节点存储（比父节点）大（或者等于）的值。上一节的图中就展现了一棵二叉搜索树。

### 核心方法

|       操作        |                                  描述                                   |
| :---------------: | :---------------------------------------------------------------------: |
|    insert(key)    |                         向树中插入一个新的键。                          |
|    search(key)    | 在树中查找一个键，如果节点存在，则返回 true；如果不存在，则返回 false。 |
|  inOrderTraverse  |                     通过中序遍历方式遍历所有节点。                      |
| preOrderTraverse  |                     通过先序遍历方式遍历所有节点。                      |
| postOrderTraverse |                     通过后序遍历方式遍历所有节点。                      |
|        min        |                          返回树中最小的值/键。                          |
|        max        |                          返回树中最大的值/键。                          |
|    remove(key)    |                           从树中移除某个键。                            |

### 其他

-   满二叉树：一个二叉树，如果每一个层的结点数都达到最大值，则这个二叉树就是满二叉树。
-   完全二叉树：对于深度为 K 的，有 n 个结点的二叉树，当且仅当其每一个结点都与深度为 K 的满二叉树中编号从 1 至 n 的结点一一对应时称之为完全二叉树。

## AVL 树（Adelson VelskiiLandi Tree）

> AVL 树是最早被发明的自平衡二叉查找树。
>
> 在 AVL 树中，任一节点对应的两棵子树的最大高度差为 1，因此它也被称为高度平衡树。
>
> 查找、插入和删除在平均和最坏情况下的时间复杂度都是 O(log n)。
>
> 增加和删除元素的操作则可能需要借由一次或多次树旋转，以实现树的重新平衡。
> 节点的平衡因子是它的左子树的高度减去它的右子树的高度（有时相反）。
>
> 带有平衡因子 1、0 或 -1 的节点被认为是平衡的。
>
> 带有平衡因子 -2 或 2 的节点被认为是不平衡的，并需要重新平衡这个树。
>
> 平衡因子可以直接存储在每个节点中，或从可能存储在节点中的子树高度计算出来。

### AVL 旋转方法

| 操作                   | 描述                        |
| ---------------------- | --------------------------- |
| rotationLL(node)       | 左 - 左（LL）：向右的单旋转 |
| rotationRR(node)       | 右 - 右（RR）：向左的单旋转 |
| rotationLR(node)       | 左 - 右（LR）：向右的双旋转 |
| rotationRL(node)       | 右 - 左（RL）：向左的双旋转 |
| getBalanceFactor(node) | 获取平衡系数                |

## 红黑树（Red Black Tree）

> 红黑树（Red Black Tree） 是一种自平衡二叉查找树，是在计算机科学中用到的一种数据结构，典型的用途是实现关联数组。
>
> 红黑树是在 1972 年由 Rudolf Bayer 发明的，当时被称为平衡二叉 B 树（symmetric binary B-trees）。后来，在 1978 年被 Leo J. Guibas 和 Robert Sedgewick 修改为如今的“红黑树”。
>
> 红黑树是一种特化的 AVL 树（平衡二叉树），都是在进行插入和删除操作时通过特定操作保持二叉查找树的平衡，从而获得较高的查找性能。

### 性质

1. 节点是红色或黑色。
2. 根是黑色。
3. 所有叶子都是黑色（叶子是 null 节点）。
4. 每个红色节点必须有两个黑色的子节点。（从每个叶子到根的所有路径上不能有两个连续的红色节点。）
5. 从任一节点到其每个叶子的所有简单路径都包含相同数目的黑色节点。

这些约束确保了红黑树的关键特性： **从根到叶子的最长的可能路径不多于最短的可能路径的两倍长。**
